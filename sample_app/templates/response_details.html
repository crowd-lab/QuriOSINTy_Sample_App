{% extends "base.html" %}
{% load static %}
{% block page %}

<br>
    <div class="container-fluid">
        <div class="row">
            <div class="col-2">
            </div>
            
            <div class="col">
                <h3>
                    <a href="">Task {{ task.id }}</a>: {{ task.name }}
                </h3>
                <h5>Task Status: {{ task.status }} </h5> 
                <h5>Date Created: {{ task.date_created }} </h5>
                <h5>Created By: {{ task.created_by }} </h5>
                <!-- <button class="btn btn-danger">Close Task</button> -->
                <fieldset>
                    <div class="form-group row">
                        <div class="col-sm-1"></div>
                        <label for="img_url" class="col-sm-1 col-form-label font-weight-bold">Image URL</label>
                        <span>{{ task.img_url }}</span>
                        <div class="col-sm-1"></div>
                    </div>

                    <div class="form-group row">
                        <div class="col-sm-1"></div>
                        <div class="col">
                            <div class="image-preview" id="imagePreview">
                                <img src="{{ task.img_url }}" alt="" class="image-preview__image" id="previewImage" style="max-width:500px; max-height:500px;">
                            </div>
                        </div>
                        <div class="col-sm-1"></div>
                    </div>
                <hr><hr>    
                <h3>
                    Response {{ response.id }}
                </h3>
                <h5>Response Status: {{ response.status }} </h5>
                <h5>Created By: {{ response.created_by }} </h5>
                <h5>Date created: {{ response.date_created }} </h5>
                <br>
                <fieldset>                 
                    <h5>Responses to the 3 questions:</h5>
                    <br>
                    <div class="form-group">
                        <div class="col-sm-1"></div>
                        <label for="q1" class="col font-weight-bold"><h5>Question 1: {{ task.q1 }}</h5></label>
                        <h5><span class="font-weight-bold">Answer: </span><span>{{ response.ans1 }}</span></h5>
                        <div class="col-sm-1"></div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-1"></div>
                        <label for="q2" class="col font-weight-bold"><h5>Question 2: {{ task.q2 }}</h5></label>
                        <h5><span class="font-weight-bold">Answer: </span><span>{{ response.ans2 }}</span></h5>
                        <div class="col-sm-1"></div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-1"></div>
                        <label for="q3" class="col font-weight-bold"><h5>Question 3: {{ task.q3 }}</h5></label>
                        <h5><span class="font-weight-bold">Answer: </span><span>{{ response.ans3 }}</span></h5>
                        <div class="col-sm-1"></div>
                    </div>
                    
                </fieldset>
                <br>

                    {% if is_task_owner == "True" %}
                        <div class="row">
                            <div class="col"></div>
                            <div class="col">
                                {% if response.status == "Pending" or response.status == "Rejected" %}<button id="approve_response_btn" class="btn btn-success" type="button">Approve Response</button>{% endif %}
                                {% if response.status == "Pending" or response.status == "Approved" %}<button id="reject_response_btn" class="btn btn-danger" type="button">Reject Response</button>{% endif %}
                            </div>
                            <div class="col"></div>
                        </div>
                    {% endif %}
                
            </div>

            <div class="col-2">
            </div>
    </div>
    <br><br>
    <script src="{% static 'js/response_details.js' %}"></script>
{% endblock page %}